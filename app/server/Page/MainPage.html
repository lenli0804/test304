<!DOCTYPE html>
<html>
	<head>
		<title>Home</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script src="/js/jquery.js" type="text/javascript"></script>
		<script src="/js/bootstrap.min.js" type="text/javascript"></script>
		<link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<link href="/css/styles.css" rel="stylesheet">
	</head>
	<script>

		//JQury
		$(document).ready(function(){
			
			//onclick change image
			$('body').on('click', ".image",function(){
				var product = $(this).closest('.feature-item').find(".i5").text();
				var path = "/assest/image/"+product+"2"+".jpg"
				document.getElementById(product).src=path;
			});
		
			//show user account details
			$("#myaccount").click(function(){
                window.location.href = "http://127.0.0.1:9999/myaccount";
            });
			
			//show user oder list details
			$("#myorderlist").click(function(){
                window.location.href = "http://127.0.0.1:9999/orderlist";
            });
			
			//set cookie over time for logout
			$("#logout").click(function(){
				document.cookie = "login=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
				document.location = "http://127.0.0.1:9999/";
            });
			//show user account details
			$("#aboutus").click(function(){
                window.location.href = "http://127.0.0.1:9999/aboutus";
			});
			//get special weather imformation
			$.ajax({
				type:"GET",
				timeout:5000,
				//https://www.hko.gov.hk/tc/weatherAPI/doc/files/HKO_Open_Data_API_Documentation_tc.pdf
				url: 'https://data.weather.gov.hk/weatherAPI/opendata/weather.php?dataType=flw&lang=en',            
				dataType: 'JSON',
				success: function (response) {
					alert(response.tcInfo);
				},
				error: function () {
					alert (error);
				}
			});
			
			//add orderlist
			$('body').on('click', ".mybtn",function(){
				var product = $(this).closest('.feature-item').find(".i5").text();
				var orderStatus = $(this).closest('.feature-item').find(".i6").text();
				var addItemData=document.cookie+"&Product="+product+"&OrderStatus="+orderStatus;
				alert (addItemData);
				$.ajax({
					type: "POST",
					url: 'http://127.0.0.1:9999/addorder',
					dataType:'JSON',
					data:addItemData,
					success: function(response){						
						if (response.result == "sucess") {
							alert("Oder sucess :"+addItemData);
						}else{
							alert("Odering get unknow problem, try again");
						}
                    },
                });
			});
		
});
			

		
	</script>
	<body>
		<div id="wrapper"><!-- Sidebar -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" href="#">LenLi</a>
			  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
				<li class="nav-item active">
					<a id="myaccount" class="nav-link" href="#">My Account </a>
				</li>
				</li>
				<li class="nav-item">
					<a id="myorderlist" class="nav-link" href="#">My Order List </a>
				</li>
				<li class="nav-item">
					<a id="aboutus" class="nav-link" href="#">About Us</a>
				</li>
				<li class="nav-item">
					<a id="logout" class="nav-link" href="#">Logout</a>
				</li>
				
			</ul>
			</div>
			</nav>
		
		<div id="page-content-wrapper">
            <div class="container-fluid">
                <div class="row">
				<div id="introduction" class="col-lg-12">
                        <h1>Len Li Project</h1>
                        <p>Welcome to oder item</p>
						
					</div>
				</div>
			<div class="container">
				<div class="row">
					<div class="feature-item set-bg col-sm-6">
						<div class="col-sm-6">
							<img class="image" src="/assest/image/leamon.jpg" id="leamon" height="100px" width="100px"> <br>
							<span class="cata new"new</span>
							<h4 class='i5'>leamon</h5>
							<p class='i6'>HKD100</p>
							<button type="button" class="mybtn btn btn-primary btn-lg btn-block">ADD</button>
						</div>
					</div>
					
					<div class="feature-item set-bg  col-sm-6">
						<div class="col-sm-6">
							<img class="image" src="/assest/image/apple.jpg" id="apple" height="100px" width="100px"> <br>
							<span class="cata new"new</span>
							<h4 class='i5'>apple</h5>
							<p class='i6'>HKD200</p>
							<button type="button" class="mybtn btn btn-primary btn-lg btn-block">ADD</button>
						</div>
					</div>
				</div>
			<div class="row">
				<div class="feature-item set-bg col-sm-6">
					<div class="col-sm-6">
						<img  class="image" src="/assest/image/eggs.jpg" id="eggs" height="100px" width="100px"> <br>
						<span class="cata new"new</span>
						<h4 class='i5'>eggs</h5>
						<p class='i6'>HKD300</p>
						<button type="button" class="mybtn btn btn-primary btn-lg btn-block">ADD</button>
					</div>
				</div>
			
				<div class="feature-item set-bg col-sm-6">
					<div class="col-sm-6">
						<img class="image" src="/assest/image/meat.jpg" id="meat" height="100px" width="100px"> <br>
						<span class="cata new"new</span>
						<h4	class='i5'>meat</h5>
						<p class='i6'>HKD400</p>
						<button type="button" class="mybtn btn btn-primary btn-lg btn-block">ADD</button>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="feature-item set-bg col-sm-6">
					<div class="col-sm-6">
						<img class="image" src="/assest/image/vegetable.jpg" id="vegetable" height="100px" width="100px"> <br>
						<span class="cata new"new</span>
						<h4 class='i5'>vegetable</h5>
						<p class='i6'>HKD500</p>
						<button type="button"  class="mybtn btn btn-primary btn-lg btn-block">ADD</button>
					</div>
				</div>			
			</div>
			</div>
			</div>
		</div>
		</div>
	</body>
</html>